<h1>Create a new Board</h1>

<form #boardForm="ngForm" (ngSubmit)="submit()" autocomplete="off">
  <div *ngIf="!newDepartment">
    <md-select placeholder="Department" [(ngModel)]="selectedDepartment" name="department"
               (change)="departmentSelected()" class="full-width">
      <md-option *ngFor="let department of departments" [value]="department">
        {{department.name}}
      </md-option>
    </md-select>
  </div>

  <div *ngIf="newDepartment">
    <md-input-container class="md-block">
      <input mdInput placeholder="Department Name" name="departmentName" [(ngModel)]="newDepartment.name"
             required>
    </md-input-container>

    <!--<logo-upload name="departmentLogo" [(ngModel)]="newDepartment.documentLogo"></logo-upload>-->
  </div>

  <md-input-container class="md-block">
    <input mdInput placeholder="Board Name" name="boardName" [(ngModel)]="board.name" required>
  </md-input-container>

  <md-input-container class="md-block">
    <textarea mdInput placeholder="Board Purpose" name="boardPurpose" [(ngModel)]="board.purpose"
              required></textarea>
  </md-input-container>

  <div *ngIf="newDepartment || selectedDepartment">
    <board-aliases [boardSettings]="board.settings" [department]="board.department" [form]="boardForm"></board-aliases>
  </div>

  {{board | json}}

  <rl-tag-input name="postCategories" [(ngModel)]="board.settings.postCategories"
                placeholder="Add Post category"></rl-tag-input>

  <div *ngIf="newDepartment">
    <rl-tag-input name="memberCategories" [(ngModel)]="board.department.memberCategories"
                  placeholder="Add Member category"></rl-tag-input>
  </div>

  <div layout="column" layout-align="space-between stretch">
    <button md-raised-button type="submit">Submit</button>
  </div>
</form>
