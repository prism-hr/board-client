<section>
  <div class="grid">
    <div class="grid__item  medium-up--whole small-one-whole board">
      <div class="description">{{department.summary}}</div>
      <div class="category-list">
      <span class="ui-chips-token ui-corner-all" *ngFor="let category of department.memberCategories">
        {{'definitions.memberCategory.' + category | translate}}
      </span>
      </div>
    </div>
  </div>

  <!--<share-buttons [title]="department.name" [description]="department.summary"-->
  <!--[include]="['facebook','twitter','linkedin','google']"-->
  <!--[image]="department.documentLogo?.cloudinaryUrl" [showCount]="true"></share-buttons>-->
</section>

<section *ngIf="!canEdit">
  <div fxLayout="row" fxLayoutAlign="space-between top" class="section-header">
    <h2>Posts</h2>
    <a pButton [routerLink]="newPostLink"
       class="ui-button-success" icon="fa-plus" label="New Post"></a>
  </div>

  <b-post-list [resource]="department"></b-post-list>
</section>

<!--<b-resource-timeline *ngIf="department" [resource]="department"></b-resource-timeline>-->
<div *ngIf="dashboard">
  <div class="grid">
    <div class="grid__item">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Tasks</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <ul>
            <li *ngFor="let task of dashboard.tasks">
              <a href="#" [ngClass]="{'checked': task.completed}">
                <div class="step-title">{{'definitions.task.' + task.task | translate}}</div>
              </a>
            </li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="grid__item">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Channels</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <ul>
            <li *ngFor="let board of dashboard.boards">
              {{board.name}}
            </li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="grid__item">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Members</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <ul>
            <li>Active members: {{dashboard.memberStatistics.countLive}}</li>
            <li>Members: {{dashboard.memberStatistics.countAllTime}}</li>
            <li>Members this year: {{dashboard.memberStatistics.countThisYear}}</li>
            <li>Las member added: {{dashboard.memberStatistics.mostRecent | date}}</li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <div class="grid">
    <div class="grid__item">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Contributors</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <ul>
            <li *ngFor="let organization of dashboard.organizationStatistics">
              {{organization.name}}, Posts: {{organization.postCount}}
            </li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="grid__item">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Posts</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          {{dashboard.postStatistics | json}}
          <a pButton [routerLink]="['/newPost', {departmentId: department.id}]" class="ui-button-create" icon="fa-plus"
             label="New Post"></a>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="grid__item">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Payments</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <ul>
            <li *ngFor="let invoice of dashboard.invoices">
              {{invoice.total | currency:'GBP'}} - {{invoice.date * 1000 | date:'mediumDate'}}
            </li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
